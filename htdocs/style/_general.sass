/*                                                                           */
/* HEAD                                                                      */
/*                                                                           */

// MODULES
@use "sass:color"
@use "sass:math"
@use "sass:string"
@use "root"


// SUPERVARIABLES
$U: root.$U
$FONTSIZER: root.$FONTSIZER
$PADDER: root.$PADDER
$COLORER: root.$COLORER
$RADIUSER: root.$RADIUSER
$DARKABSCISSER: root.$DARKABSCISSER
$LIGHTABSCISSER: root.$LIGHTABSCISSER
$TIMER: root.$TIMER
$CURVER: root.$CURVER


/*                                                                           */
/* FUNCTIONS                                                                 */
/*                                                                           */

// FUNCTIONS -> CONTAINER
=section($align-horizontally, $align-vertically, $width: 100%, $height: 100%, $direction: column, $display: flex, $grow: true)
    box-sizing: border-box
    @if $grow
        flex: 1 0 auto
    @else
        flex: 0 0 auto
    display: $display
    height: $height
    width: $width
    @if $display == flex
        flex-direction: $direction
        @if $align-horizontally
            align-items: center
        @else
            align-items: stretch
        @if $align-vertically
            justify-content: center
        @else
            justify-content: flex-start


// FUNCTIONS -> ELEMENT
=element($inline)
    box-sizing: border-box
    margin: math.div($PADDER, 2)
    padding: math.div($PADDER, 2)
    border-radius: $RADIUSER
    @if $inline
        display: inline-block
    @else
        display: block


// FUNCTIONS -> INPUT
=input($type, $inline: true)
    padding: math.div($PADDER, 2) $PADDER
    border-radius: $RADIUSER
    box-sizing: border-box
    border: 0.1* $U solid $COLORER
    @if $inline
        display: inline-block
    @else
        display: block
    &:focus
        outline: none
    @if $type == button
        cursor: pointer
        background-color: #00000055
        min-width: fit-content
        height: 2.75* $U
        transition: border-color $TIMER $CURVER, background-color $TIMER $CURVER, color $TIMER $CURVER
        &:hover
            background-color: string.unquote($LIGHTABSCISSER + "55")
        &:active
            border-color: $LIGHTABSCISSER
            color: $LIGHTABSCISSER
    @if $type == textarea
        background-color: #000000
        resize: none
        &::placeholder
            color: $COLORER
            opacity: 0.5
    @if $type == text or $type == password or $type == email
        background-color: #000000
        font-family: monospace
        height: 2.75* $U
        &::placeholder
            color: $COLORER
            opacity: 0.5


// FUNCTIONS -> SCROLLBAR
=scrollbar() 
    overflow: 
        x: scroll
        y: scroll
    scrollbar:
        width: none


/*                                                                           */
/* DEFAULTS                                                                  */
/*                                                                           */

// DEFAULTS -> FONT
$font-name: "CSSMS"
$font-url: "../public/CSSMS.ttf"
$font-format: "truetype"

@font-face
    font-family: $font-name
    src: url($font-url) format($font-format)
:where(:not(.katex-display, .katex-display *, .katex, .katex *, .CodeMirror, .CodeMirror *))
    +scrollbar()
    font-family:$font-name
    font-size: $FONTSIZER
    color: $COLORER


// DEFAULTS -> DOCUMENT
$document-background-center: #111111
$document-center-share: 20%

$document-background-radius: color.invert($COLORER)
$document-radius-share: 100% - $document-center-share

:where(html)
    background: radial-gradient(circle, $document-background-center $document-center-share, $document-background-radius $document-radius-share)


// DEFAULTS -> MAIN
$_main-navbar-width: 3.8* $U
$main-padding: 4.5* $U 0 0 0

$main-width: calc(100% - $_main-navbar-width)

:where(#main)
    +section(false, false, $width: $main-width)
    padding: $main-padding
    position: fixed
    top: 0
    right: 0


/*                                                                           */
/* INPUTS                                                                    */
/*                                                                           */

// INPUTS -> AUTOFORMATTER
:where(input)
    &[type="text"]
        +input(text)
    &[type="textarea"]
        +input(textarea)
    &[type="password"]
        +input(password)
    &[type="submit"]
        +input(button)
    &[type="email"]
        +input(email)
:where(.inputButton)
    +input(button)


/*                                                                           */
/* FORMS                                                                     */
/*                                                                           */

// FORMS -> FORM
form 
    +section(true, true)
    input
        width: 100%
    input:not(:first-of-type, :last-of-type)
        border-radius: 0
    input:first-of-type
        border-bottom-left-radius: 0
        border-bottom-right-radius: 0
    input:last-of-type
        border-top-left-radius: 0
        border-top-right-radius: 0


/*                                                                           */
/* HEADERS                                                                   */
/*                                                                           */

// HEADERS -> H4
$h4-scale-coefficient: 1.06125
$h4-margin: 0.7* $U 0 0.7* $U 0

$h4-font-size: $h4-scale-coefficient * $FONTSIZER

:where(h4)
    font-size: $h4-font-size
    margin: $h4-margin


// HEADERS -> H3
$h3-scale-coefficient: 1.125
$h3-margin: 0.8* $U 0 0.8* $U 0

$h3-font-size: $h3-scale-coefficient * $FONTSIZER

:where(h3)
    font-size: $h3-font-size
    margin: $h3-margin


// HEADERS -> H2
$h2-scale-coefficient: 1.25
$h2-margin: 0.9* $U 0 0.9* $U 0

$h2-font-size: $h2-scale-coefficient * $FONTSIZER

:where(h2)
    font-size: $h2-font-size
    margin: $h2-margin


// HEADERS -> H1
$h1-scale-coefficient: 1.5
$h1-margin: 1* $U 0 1* $U 0

$h1-font-size: $h1-scale-coefficient * $FONTSIZER

:where(h1)
    font-size: $h1-font-size
    margin: $h1-margin